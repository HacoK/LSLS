 

**灯具公司进销存系统******

 LSLS(Lightingcompany Longevity system)

软件需求规格说明

V3.0 正式版

 

南京大学SIF4工作组

 

2017-10-31

# [更新历史]()

** **

| **修改人员** | **日期**     | **变更原因** | **版本号**  |
| -------- | ---------- | -------- | -------- |
| SIF4     | 2017-9-15  | 最初草稿     | V1.0 草稿  |
| SIF4     | 2017-9-17  | 评审后的正式版  | V1.0 正式版 |
| SIF4     | 2017-9-29  | 需求调整     | V2.0 正式版 |
| SIF4     | 2017-10-31 | 根据点评修改   | V3.0 正式版 |

 目录

 [更新历史... 2](#_Toc497242932) 

[1.     引言... 3](#_Toc497242933) 

[1.1        目的... 3](#_Toc497242934) 

[1.2        范围... 3](#_Toc497242935) 

[1.3        参考文献... 3](#_Toc497242936)

 [2.     总体描述... 4](#_Toc497242937)

 [2.1        商品前景... 4](#_Toc497242938)

 [2.1.1        背景与机遇... 4](#_Toc497242939)

 [2.1.2        业务需求... 4](#_Toc497242940) 

[2.2        商品功能... 4](#_Toc497242941) 

[2.3        用户特征... 4](#_Toc497242942) 

[2.4        约束... 5](#_Toc497242943)

[2.5        假设和依赖... 5](#_Toc497242944) 

[3.     详细需求描述... 6](#_Toc497242945) 

[3.1        对外接口需求... 6](#_Toc497242946) 

[3.1.1        用户界面... 6](#_Toc497242947) 

[3.1.2        硬件接口... 6](#_Toc497242948) 

[3.1.3        软件接口... 7](#_Toc497242949) 

[3.1.4        通信接口... 7](#_Toc497242950) 

[3.2        功能需求... 7](#_Toc497242951) 

[3.2.1        客户管理... 7](#_Toc497242952) 

[3.2.2        制定销售单... 9](#_Toc497242953) 

[3.2.3        退货... 11](#_Toc497242954) 

[3.2.4        期初建账... 13](#_Toc497242955) 

[3.2.5        账户管理... 14](#_Toc497242956) 

[3.2.6        查看销售明细表... 16](#_Toc497242957) 

[3.2.7        查看经营历程表... 17](#_Toc497242958) 

[3.2.8        查看经营情况表... 19](#_Toc497242959) 

[3.2.9        审批单据... 21](#_Toc497242960) 

[3.3        其他非功能需求... 22](#_Toc497242961) 

[3.3.1        安全性... 22](#_Toc497242962) 

[3.3.2        可维护性... 22](#_Toc497242963) 

[3.3.3        易用性... 23](#_Toc497242964) 

[3.3.4        可靠性... 23](#_Toc497242965) 

[3.3.5        业务规则... 23](#_Toc497242966) 

[3.3.6        约束... 24](#_Toc497242967) 

[3.4        数据需求... 24](#_Toc497242968) 

[3.4.1        数据定义... 24](#_Toc497242969) 

[3.4.2        默认数据... 24](#_Toc497242970) 

[3.4.3        数据格式要求... 24](#_Toc497242971) 

[3.5        其他需求... 25](#_Toc497242972) 

[附录... 25](#_Toc497242973)  

# [1.     引言]()

## [1.1       目的]()

本文档描述了灯具公司进销存系统LSLS的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

除特殊说明之外，本文档所包含的需求都是高优先级需求。

## [1.2       范围]()

灯具公司进销存系统LSLS是为×××民营企业开发的业务系统，开发的目标是减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。。

灯具公司进销存系统LSLS的应用，期望使×××民营企业适应规模扩大，企业业务量、办公场所、员工数都发生增长的新环境，提高工作效率和用户满意度，

## [1.3       参考文献]()

1、 IEEE标准

2、 灯具公司进销存系统LSLS用例文档 V1.0

# [2.     总体描述]()

## [2.1       商品前景]()

### [2.1.1           背景与机遇]()

一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。

现公司规模扩大，企业业务量、办公场所、员工数都发生增长，为适应新的环境，提高工作效率和用户满意度，该公司聘请公司S开发一套进销存系统。

### [2.1.2           业务需求]()

BR1：在系统使用6个月后，挤压库存要减少50%

BR2：在系统使用6个月后，销售额度要提高20%

最好情况：40%

最可能情况：20%

最坏情况：10%

BR3：在系统使用6个月后，财务人员工作效率提高50%

BR4：在系统使用6个月后，总经理决策效率提高50%

## [2.2       商品功能]()

SF1：帮助对商品分类和商品进行管理

SF2：管理库存，可进行库存查看和库存盘点

SF3：协助制定库存赠送单、库存报溢单、库存报损单，进行库存报警

SF4：帮助进货销售人员处理进货/退货以及销售进货/退货

SF5：管理客户，处理客户的增删改查

SF6：掌握员工变动和授权情况

SF7：处理商品入库与出库

SF8：发展会员，提高顾客回头率

SF9：允许积分兑换商品和赠送吸引会员的礼品，提高会员满意度

SF10：帮助收银员处理销售与退货任务

## [2.3       用户特征]()

| 库存管理人员 | 1到2名。负责对商品分类和商品的信息的管理，能够简单使用办公信息化系统。  对新系统基本持积极态度，不希望增加现有工作量。他们每天都要进行一次商品库存分析，3～4天进行一次十几种到几十种新购入商品入库，每周1～2次淘汰报废商品，每月多次将损坏或者劣质商品销库。 |
| ------ | ---------------------------------------- |
| 进货销售人员 | 4到8名。负责完成进货单和销售单。他们每天都要完成大量的销售任务，还要多次中断进货处理退货，可能一次退回单个商品，更可能是一次退回多个商品。  因为任务较为频繁，而且涉及钱财事宜，所以他们对软件系统的依赖很大。进货销售人员的计算机操作技能一般，既无法快速熟练地使用鼠标的定位功能和拖拽等功能，也无法以盲打整个键盘的方式工作。  尤其是对于新雇佣的进货销售人员来说，他们经常因为业务不熟练而出现错误或不知所措，对新系统基本持积极态度，不希望增加现有工作量。 |
| 财务人员   | 1到2名，办公信息化系统较强。负责期初建账管理公司银行账户，制定收款单及付款单，查看并分析公司的销售明细、经营情况及历程，对新系统持积极态度，不希望增加现有工作量。 |
| 总经理    | 2名，他们通常每个季度调整一次商品，包括加入几十个新商品、淘汰几十个旧商品和调整几十个商品的价格。在极少数的情况下，会有商品调整名称描述。每个月都会有针对商品提出赠送或特价促销请求。每次当商品销售不佳，有积压风险，总经理要通过为这些商品制定赠送或特价促销策略，来及时处理这些商品。在每年的几个重要节日，总经理要制定促销策略，以与其他厂家竞争，通常使用总价/用户促销策略及组合商品降价。  总经理要管理店内所有的商品，同时还要负责店内的各种日常管理事务，所以工作繁忙，对新系统持积极态度。  总经理能够熟练使用办公信息化系统。 |
| 管理员    | 整个系统有1个系统管理员，负责新建账户并对用户账户的信息和权限管理。他的工作是每月几次处理员工雇佣、离职与职位变换。离职和职位变换通常是单个员工行为。系统管理员是计算机专业维护人员，计算机技能很好。 |

## [2.4       约束]()

CON1：系统采用Java语言开发。

CON2：系统不使用Web界面，而是图形化界面进行操作。

CON3：项目要使用瀑布式开发。

CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。

## [2.5       假设和依赖]()

AE1：在将上一批入库商品出库90%之前，下一批商品不会被入库；

AE2：新一批商品的每天出库量与上一批商品的每天出库量基本相同，商品出库情况比较稳定；

AE3：一个额度的赠送促销会自动包含所有比它小的额度的促销赠送商品

# [3.     详细需求描述]() 

## [3.1       对外接口需求]()

### [3.1.1           用户界面]()

用户界面利用Java的Swing和AWT库来实现，其中MainFrame负责界面的显示和跳转。

其交互序列大致如下：运行系统后，首先弹出登录界面，用户输入自己的用户名以及密码，系统根据用户类型跳转到相应职员界面，这时用户可在属于自己的主界面上进行各种操作，借助图形化界面实现各项功能。

系统存在18个用户界面：登录界面、库存管理人员主界面、进货销售人员主界面、财务人员主界面、总经理主界面、管理员主界面、商品及其分类管理界面、库存管理界面、库存分析界面、客户管理界面、销售界面、退货界面、建账界面、账表查看界面、账户管理界面、审批单据界面、制定销售单据界面、调整用户界面。界面跳转如下图所示。



服务器端和客户端的用户界面设计接口是一致的，只是具体的页面不一样。

### [3.1.2           硬件接口]()

无

### [3.1.3           软件接口]()

无

### [3.1.4           通信接口]()

·       CI：客户端与服务器使用RMI的方式进行通信，用户远程使用系统。

## [3.2       功能需求]()

### [3.2.1           客户管理]()

#### 3.2.1.1      特性描述

在客户发生变动时，一个经过验证的进货销售人员可以调整客户，增加新客户，移除原有客户，变更客户属性。系统最后要更新变动的客户信息。

优先级=高

#### 3.2.1.2      刺激/响应序列

刺激：进货销售人员请求增加新客户

响应：系统在客户列表中增加新客户

刺激：进货销售人员编辑客户信息

响应：系统更新客户列表中的信息显示

刺激：进货销售人员移除客户

响应：系统将客户从列表中移除

刺激：进货销售人员取消调整客户

响应：系统关闭调整客户任务

刺激：进货销售人员确认完成调整客户

响应：系统记录客户信息，关闭调整客户任务

#### 3.2.1.3      相关功能需求

| Client.Input                          | 系统应该允许进货销售人员在客户管理任务中进行键盘输入               |
| ------------------------------------- | ---------------------------------------- |
| Client.Input.Member                   | 在进货销售人员请求输入客户编号时，系统要标记客户, 参见Client.Member |
| Client.Input.End                      | 在进货销售人员输入结束客户管理命令时，系统要结束一个客户管理任务，参见Client.End |
| Client.Input.Cancle                   | 在进货销售人员输入取消命令时，系统关闭客户管理任务不做任何处理          |
| Client.Input.Invalid                  | 在进货销售人员输入非法标识时，系统不予响应                    |
| Client.Member                         | 系统显示输入客户的信息                              |
| Client.Member.Start                   | 在客户管理任务最开始时请求标记客户，系统要允许进货销售人员进行输入        |
| Client.Member.Notstart                | 不是在客户管理任务最开始时请求标记会员，系统不予处理               |
| Client.Member.Cancle                  | 在进货销售人员取消客户输入时，系统关闭客户输入任务，返回客户管理任务       |
| Client.Member.Valid                   | 在进货销售人员输入已有客户的编号时，系统显示该会员的信息             |
| Client.Member.Invalid                 | 在进货销售人员输入非法输入时，系统提示输入无效                  |
| Client.End.Null                       | 在进货销售人员未进行任何操作就输入结束命令时，系统关闭客户管理任务不做任何处理  |
| Client.End.Member.New                 | 在进货销售人员新建客户并输入结束命令时，系统要生成一个客户编号，并在客户列表中增加该新客户 |
| Client.End.Member.Edit                | 在进货销售人员编辑完客户信息输入结束命令时，系统要在客户列表中修改相应客户信息  |
| Client.End.Member.Del                 | 在进货销售人员删除客户并输入结束命令时，系统要在客户列表中删除对应客户信息    |
| Client.Cancle                         | 在进货销售人员请求取消客户调整任务时，系统关闭客户调整任务            |
| Client.New                            | 系统应该允许进货销售人员增加新客户                        |
| Client.New.Null     Client.New.Member | 在进货销售人员输入已有客户信息进行新建客户命令时，系统反馈“客户已存在”的错误信息  在进货销售人员请求增加客户时，系统生成一个客户编号，并在客户列表中增加该新客户 |
| Client.Edit                           | 系统应该允许进货销售人员编辑客户列表中除客户编号之外的数据            |
| Client.Edit.Null                      | 在未标记任何客户就输入编辑命令时，系统不予响应                  |
| Client.Edit.Member                    | 在进货销售人员请求编辑客户列表中一个客户的信息时，系统在客户列表中将该客户进行相应信息修改 |
| Client.Del                            | 系统应该允许进货销售人员删除客户列表中已有客户                  |
| Client.Del.Null                       | 在进货销售人员未输入任何客户就输入删除客户命令时，系统不予响应          |
| Client.Del.Member                     | 在进货销售人员请求删除客户列表中一个客户时，系统在客户列表中将该客户标记为“已移除” |
| Client.Del.Fault                      | 当客户应收或应付大于0时，不能删除,系统返回相应错误信息             |
| Client.Confirm                        | 系统应该允许进货销售人员确认客户管理任务的完成情况                |
| Client.Confirm.Timeout                | 在客户管理开始2个小时还没有接到收银员请求时，系统取消客户管理任务        |
| Client.Confirm.Confirm.Update         | 在进货销售人员确认客户管理任务完成时，系统更新数据，参见Client.Update |
| Client.Confirm.Confirm.Close          | 在进货销售人员确认客户管理任务完成时，系统关闭客户管理任务，参见Client.Close |
| Client.Update                         | 系统更新客户目录信息                               |
| Client.Update.Member.Valid            | 如果客户管理系统标记了客户，系统更新客户信息                   |
| Client.Update.Member.Invalid          | 如果客户管理系统没有标记客户，系统不予处理                    |
| Client.Update.Fault                   | 在系统更新过程中发生故障时，系统进行数据恢复，参见Reliability1    |
| Client.Close.Next                     | 系统关闭本次客户管理任务，开始新的客户管理任务                  |

 

### [3.2.2           制定销售单]()

#### 3.2.2.1      特性描述

在在销售商确认要购入货品并确定订单后，一个经过验证的销售人员开始处理销售，完成货品录入、账单计算、信息登记、库存更新和打印收据。

优先级=高

#### 3.2.2.2      刺激/响应序列

刺激：销售人员新建一个销售单
响应：系统显示当前销售单单号、当前日期等信息

刺激：销售人员逐次录入货品的标识和数量
响应：系统显示当前货品的信息并计算货品价格

刺激：销售人员取消销售操作
响应：系统清除销售单，关闭销售任务

刺激：销售人员去除某种货品
响应：系统在货品列表里清除该种货品并重新计算总价

刺激：订单确认，货品全部输入完毕
响应：系统自动生成新订单，并将表单提交总经理端等待审批

刺激：审批完成，销售通过
响应： 更新销售单状态，更新客户应付信息

#### 3.2.2.3      相关功能需求

| Sale.Input         | 系统应该允许进货销售人员在销售任务中进行键盘输入             |
| ------------------ | ------------------------------------ |
| Sale.Input.End     | 进货销售人员输入结束销售命令时，系统结束一个销售任务           |
| Sale.Input.Cancle  | 进货销售人员输入取消命令时，系统关闭销售任务不做任何处理         |
| Sale.Input.Del     | 在进货销售人员输入删除已输入货品命令时，执行删除已输入货品命令      |
| Sale.Input.Goods   | 在进货销售人员输入货品目录中存在的货品标识和数量时，系统执行货品输入任务 |
| Sale.Input.Invalid | 在进货销售人员输入其他标识时，系统不予响应                |
| Sale.Input.New     | 系统新建一个销售单                            |

 

 

| Sale.End.Null        | 在进货销售人员未输入任何货品就输入结束命令时，系统关闭销售任务不做任何处理 |
| -------------------- | ------------------------------------- |
| Sale.End.Goods       | 在进货销售人员输入一系列货品之后输入结束命令时，系统要处理结束销售任务   |
| Sale.End.Goods.Check | 系统要计算总价，显示账单信息，执行结账任务                 |

 

| Sale.Del.Null  | 在进货销售人员未输入任何货品就输入删除已输入货品命令时，系统不予响应       |
| -------------- | ---------------------------------------- |
| Sale.Del.Goods | 在进货销售人员删除货品列表中选定的货品时，系统在货品列表中删除该货品       |
| Sale.Del.Fault | 在进货销售人员删除货品列表中选定的货品时，系统在货品列表中寻找该货品，若不存在则返回相应错误信息 |

 

| Sale.Goods          | 系统显示输入货品的信息                |
| ------------------- | -------------------------- |
| Sale.Goods.Subtotal | 系统计算货品分项总价为，并将其计入普通货品总价    |
| Sale.Goods.List     | 系统显示已输入货品列表并将新输入货品信息添加到列表中 |

 

| Sale.Calculate             | 系统逐一处理销售任务的货品列表，计算购买货品的总价                |
| -------------------------- | ---------------------------------------- |
| Sale.Calculate.Null        | 在销售任务中没有购买货品时，系统计算总价为0                   |
| Sale.Calculate.Amount      | 如果存在适用的总额特价策略，系统计算销售总价为（普通货品总价×折扣率+特价货品总价） |
| Sale.Calculate.Amount.Null | 在没有总额特价策略时，系统计算销售总价                      |

 

| Sale.Check     | 系统计算并显示销售的账单信息和赠品列表     |
| -------------- | ----------------------- |
| Sale.Check.End | 在进货销售人员请求结束账单输入时，系统计算账单 |

 

| Sale.Confirm                | 系统应该允许进货销售人员确认销售任务的完成情况          |
| --------------------------- | -------------------------------- |
| Sale.Confirm.Timeout        | 在销售开始2个小时还没有接到进货销售人员请求时，系统取消销售任务 |
| Sale.Confirm.Confirm.Update | 在进货销售人员确认销售任务完成时，系统更新数据          |
| Sale.Confirm.Confirm.Close  | 在进货销售人员确认销售任务完成时，系统关闭销售任务        |

 

| Sale.Update           | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
| --------------------- | ------------------------------------ |
| Sale.Update.Sale      | 系统更新销售信息                             |
| Sale.Update.SaleItems | 系统更新货品清单                             |
| Sale.Update.Catalog   | 系统更新库存信息                             |
| Sale.Update.Check     | 系统更新账单信息                             |
| Sale.Update.Fault     | 在系统更新过程中发生故障时，系统进行数据恢复               |

 

| Sale.Close.Next | 系统关闭本次销售任务，开始新的销售任务 |
| --------------- | ------------------- |
|                 |                     |

 

### [3.2.3           退货]()

#### 3.2.3.1      特性描述

在进货商携带退货货品到达收银台并要求退货时，一个经过验证的进货销售人员可以进行退货处理，录入销售记录号，查询销售货品清单，接受退货货品，重新计算账单并退款，还要回收一些赠品。系统最后要更新库存，打印退货留存单据并由进货商签字。

优先级=高

#### 3.2.3.2      刺激/响应序列

刺激：销售人员新建一个销售退货单
响应：系统显示当前销售单单号、当前日期等信息

刺激：进货销售人员输入收据的销售记录号

响应：系统查询并显示销售记录及其过去的退货记录

刺激：进货销售人员选择要退货的货品，输入货品数量

响应：系统建立退货货品列表

刺激：进货销售人员取消退货任务

响应：系统关闭退货任务

刺激：进货销售人员删除已输入货品

响应：系统在退货货品列表中删除该货品

刺激：进货销售人员请求计算退款

响应：系统计算应退账款，显示关联退回赠品和本次应退账款

刺激：进货销售人员确认退货已完成

响应：系统更新数据，打印单据，关闭当前销售任务，开始下一次销售

#### 3.2.3.3      相关功能需求

 

| Return.Cancel             | 在进货销售人员请求取消退货时，系统关闭退货任务                  |
| ------------------------- | ---------------------------------------- |
| Return.Sale               | 在退货任务开始时，系统要允许进货销售人员输入销售记录号              |
| Return.Sale.Valid         | 在进货销售人员输入销售记录中存在的销售记录号时，系统显示销售信息、账单信息、货品列表、赠品列表和退货列表，执行退还货品任务 |
| Return.Sale.Valid.Timeout | 如果销售记录超出退货日期约定，系统提示超期货品不能退货              |
| Return.Sale.Invalid       | 在进货销售人员输入其他内容时，系统提示输入无效                  |

 

| Return.Goods.Add              | 系统允许进货销售人员在货品列表中选择货品进行退还，补充退货列表          |
| ----------------------------- | ---------------------------------------- |
| Return.Goods.Add.Unreturnable | 在进货销售人员选择一个已被全部退还的货品时，系统提示该货品已经退还        |
| Return.Goods.Add.Returnable   | 在进货销售人员选择一个还没有被全部退还的货品时，系统允许进货销售人员输入退还数量 |
| Return.Goods.Add.Num.Valid    | 在进货销售人员输入一个（大于0）而且（小于等于该货品未被退还数量）的整数数值时，系统接受该数值为货品退还数量，并更新退货列表显示 |
| Return.Goods.Add.Num.Invalid  | 在进货销售人员输入其他内容时，系统提示输入数值无效                |

 

| Return.Goods.Del       | 系统允许进货销售人员在退货列表中选择货品进行移除，减少退货列表，结算货款，退回赠品,确认退货（Return.Confirm） |
| ---------------------- | ---------------------------------------- |
| Return.Goods.Del.Fault | 系统在退货列表中选择货品进行移除，若退货列表不存在相应货品，返回“货品不存在”的错误信息 |

 

| Return.Check           | 在进货销售人员请求结算退货账款时，系统执行结算任务  |
| ---------------------- | -------------------------- |
| Return.Check.Null      | 在退货列表内没有退货货品时，系统提示没有退还任何货品 |
| Return.Check.Calculate | 系统计算并显示应该退还的账款             |
| Return.Check.Confirm   | 系统应该允许进货销售人员确认退货任务的结束      |

 

| Return.Calculate.Total | 系统计算应退款额 |
| ---------------------- | -------- |
|                        |          |

 

| Return.Confirm        | 系统应该允许进货销售人员确认退货的完成情况                    |
| --------------------- | ---------------------------------------- |
| Return.Confirm.Update | 系统更新数据(参见Return.Update)，关闭退货任务（参见Return.Close） |
| Return.Confirm.Close  | 系统关闭退货任务，参见Return.Close                  |

 

| Return.Update              | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新 |
| -------------------------- | ------------------------------------ |
| Return.Update.Return       | 系统更新本次退货信息                           |
| Return.Update. ReturnItems | 系统更新退货货品清单                           |
| Return.Update.Catalog      | 系统更新库存信息                             |
| Return.Update.ReturnCheck  | 系统更新退回账款信息                           |

 

| Return.Close.Exit | 系统关闭本次销售任务 |
| ----------------- | ---------- |
|                   |            |

 

 

### [3.2.4           期初建账]()

#### 3.2.4.1      特性描述

财务人员管理财务的过程中需要建立账单，每套账在新建的时候都要经过期初建账这一环节，可以理解为一套账的初始化操作。包括：添加商品信息（商品分类，某一商品的名称，类别，型号，进价/售价(默认为上年平均)，最近进价和最近售价留空），客户信息（客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)），银行账户信息（名称，余额）。期初的信息一旦建立完毕就会单独存储起来，同时将此信息作为系统的启动初始状态，之后的一切操作将会改变系统里的信息，但不会改变期初信息。期初信息随时可查。

优先级=高

#### 3.2.4.2      刺激/响应序列

刺激：财务人员新建一套账单

响应：系统显示新建的账单

刺激：财务人员添加商品信息

响应：系统更新商品信息，包括商品分类，某一商品的名称，类别，型号，进价/售价，最近进价和最近售价留空

刺激：财务人员添加客户信息

响应：系统更新客户信息，包括客户分类，某一个客户的名称，联系方式，应收应付

刺激：财务人员输入银行账户信息

响应：系统更新银行账户名称和余额

刺激：财务人员确认完成期初建账

响应：系统将期初单独存储起来，同时将此信息作为系统的启动初始状态

刺激：财务人员结束期初建账

响应：系统更新期初建账信息

#### 3.2.4.3      相关功能需求

| Starting.Input  Starting.Input.Save      | 系统应该允许财务人员在期初建账中进行键盘输入  在财务人员新建一套账时，系统询问账目存储地址以及账目名称 |
| ---------------------------------------- | ---------------------------------------- |
| Starting.Input.Cancel     Starting.Input.Goods | 在财务人员输入取消命令时，系统关闭输入并询问是否需要保存  系统应该允许财务人员在期初建账中进行商品信息输入 |
| Starting.Input.Invalid                   | 在财务人员输入错误标识时，系统提示错误并拒绝输入                 |
| Starting.End.Null                        | 在财务人员未选择任何情况种类就输入结束命令时，系统关闭建账任务不做任何处理    |
| Starting.End.Find                        | 在财务人员选择情况种类之后输入结束命令时，系统要处理结束建账任务并询问是否保存  |
| Starting.Add.Items     Starting.Add.Customers     Starting.Add.Bank  Starting.Add.Invalid | 在财务人员输入添加商品信息命令时，系统要处理所要添加的商品信息  在财务人员输入添加客户信息命令时，系统要处理所要添加的商品信息  在财务人员输入银行账户信息时，系统对数据进行存储  在财务人员输入错误银行账户时，系统提示错误并拒绝输入 |
| Starting.Store  Starting.Store.Address  Starting.Store.Start | 系统应该允许财务人员存储期初账单信息  期初账单信息有一个固定的存储目录地址  系统默认将期初信息作为系统的启动初始状态 |
| Starting.Update.Invalid                  | 操作可以改变系统里的信息，但无法改变期初信息                   |
| Starting.Close                           | 系统关闭本次建账任务                               |

 

### [3.2.5           账户管理]()

#### 3.2.5.1      特性描述

财务人员对于此家公司的银行账户进行管理，最高权限者可以查看账户名称和余额，财务人员根据收款单和付款单保证余额的更新。财务人员根据需求进行账户的更改，包括增加账户、删除账户、修改账户属性和查询账户。

优先级=高

#### 3.2.5.2      刺激/响应序列

刺激：财务人员输入已有的账户编号

响应：系统显示账户，包括名称和金额

刺激：财务人员结束账户查询

响应：系统更新账户名称和金额

刺激：财务人员进行增加账户操作

响应：系统增加账户并显示增加成功

刺激：财务人员进行删除账户操作

响应：系统删除账户并显示删除成功

刺激：财务人员进行修改账户操作

响应：系统修改账户名称或金额

#### 3.2.5.3      相关功能需求

| Account.Input                            | 系统应该允许财务人员在查询中进行键盘输入                     |
| ---------------------------------------- | ---------------------------------------- |
| Account.Input.Cancel                     | 在财务人员输入取消命令时，系统关闭查询不做任何处理                |
| Account.Input. Find     Account.Input. Find | 在财务人员输入账户管理目录中存在条件标识时，系统执行查询任务  在财务人员输入账户管理目录中的项目存在条件标识时，系统执行查询任务 |
| Account.Input.Invalid                    | 在财务人员输入其他标识时，系统不予响应                      |
| Account.End.Null                         | 在财务人员未选择任何情况种类就输入结束命令时，系统关闭查询任务不做任何处理    |
| Account.End.Find                         | 在财务人员选择情况种类之后输入结束命令时，系统要处理结束查询任务         |
| Account.Add.Find     Account.Add.Input   | 在财务人员输入增加账户命令时，系统要处理所要增加的账户  在财务人员输入账户名称和金额时，系统更新数据，记录 |
| Account.Del.Null     Account.Del.Find     Account.Del.Fault | 在财务人员未输入任何查询词条就输入删除账户命令时，系统不予响应  在财务人员输入查询种类之后输入删除账户命令时，系统要处理所要删除的账户  在财务人员输入删除账户命令时，系统进行验证，若余额不为零，则不允许删除账户，返回相应出错信息 |
| Account.Mod  Account.Mod.Null     Account.Mod.Find | 系统应该允许财务人员修改账户操作  在财务人员未输入任何查询词条就输入修改账户命令时，系统不予响应  在财务人员输入查询种类之后输入修改账户命令时，系统要处理所要修改的账户 |
| Account.Check  Account.Check.Selling  Account.Check.Paying  Account.Check.Name  Account.Check.Balance  Account.Check.Error | 系统应该允许财务人员核实确认账户情况  在财务人员核实确认销售收入时，系统更新数据，记录  在财务人员核实确认付款项时，系统更新数据，记录  在财务人员核实确认账户名称时，系统更新记录  在财务人员核实确认余额情况时，系统更新数据，记录  在财务人员核实确认后发现错误，系统记录错误数据并标记 |
| Account.Update                           | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| Account.Update.Selling                   | 系统更新销售收入                                 |
| Account.Update.Paying                    | 系统更新付款项                                  |
| Account.Update.Balance                   | 系统更新余额                                   |
| Account.Update.Name                      | 系统更新账户名称                                 |
| Account.Update.Fault                     | 在系统更新过程中发生故障时，系统进行数据恢复                   |
| Account.Close.Next                       | 系统关闭本次查询任务，开始新的查询任务                      |

 

### [3.2.6           查看销售明细表]()

#### 3.2.6.1      特性描述

在财务人员统计一段时间内商品的销售情况时，快速、正确地统计一段时间内商品的销售情况，避免出现错误。

优先级=高

#### 3.2.6.2      刺激/响应序列

刺激：财务人员按时间区间，商品名，客户，业务员，仓库五种筛选条件进行查询

响应：系统显示符合上述条件的商品销售记录，以列表形式显示时间，商品名，型号，数量，单价，总额

#### 3.2.6.3      相关功能需求

| Enquiries.Input                          | 系统应该允许财务人员在查询中进行键盘输入                     |
| ---------------------------------------- | ---------------------------------------- |
| Enquiries.Input.Cancle                   | 在财务人员输入取消命令时，系统关闭查询不做任何处理                |
| Enquiries.Input. Find                    | 在财务人员输入查询目录中存在条件标识时，系统执行查询任务             |
| Enquiries.Input.Invalid                  | 在财务人员输入其他标识时，系统不予响应                      |
| Enquiries.End.Null                       | 在财务人员未查询任何条件就输入结束命令时，系统关闭查询任务不做任何处理      |
| Enquiries.End.Find                       | 在财务人员输入一系列条件之后输入结束命令时，系统要处理结束查询任务        |
| Enquiries.Del.Null     Enquiries.Del.Find | 在财务人员未输入任何条件就输入删除已输入条件命令时，系统不予响应  在财务人员输入一系列条件之后输入删除已输入条件命令时，系统要处理删除查询条件 |
| Enquiries.Check  Enquiries.Check.Time  Enquiries.Check.Time  Enquiries.Check.Time  Enquiries.Check.Time  Enquiries.Check.Time  Enquiries.Check.Confirm | 系统计算并显示商品销售记录的信息  系统计算并显示商品销售的时间区间  系统计算并显示销售出的商品名  系统计算并显示购买商品的客户  系统计算并显示处理商品销售的业务员  系统计算并显示仓库剩余  系统应该允许财务人员确认查询任务的结束 |
| Enquiries.Close.Next                     | 系统关闭本次查询任务，开始新的查询任务                      |

 

### [3.2.7           查看经营历程表]()

#### 3.2.7.1      特性描述

在财务人员查看一段时间里的所有单据时，快速、正确地查看一段时间里的所有单据，避免出现错误。

优先级=高

#### 3.2.7.2      刺激/响应序列

刺激：财务人员选择销售类单据、进货类单据、财务类单据、库存类单据中的一种

响应：系统显示符合上述条件的单据类

刺激：财务人员选择单据种类

响应：系统显示上述条件的单据信息

刺激：财务人员按时间区间，商品名，客户，业务员，仓库等五种筛选条件进行筛选查询

响应：系统显示符合上述条件的单据内容

刺激：财务人员进行红冲的操作

响应：系统生成一个一模一样但是仅仅把数量取负数的单子并入账，以此来抵消之前的单子。

刺激：财务人员进行红冲并复制的操作

响应：系统在红冲的基础上，新建一张以之前单子为模板的草稿单，给用户以编辑的机会。

刺激：财务人员结束单据查看操作

响应：系统更新信息，包括时间区间，商品名，客户，业务员，仓库，并更新库内信息

#### 3.2.7.3      相关功能需求

| Business.Input                           | 系统应该允许财务人员在查询中进行键盘输入                     |
| ---------------------------------------- | ---------------------------------------- |
| Business.Input.Cancle                    | 在财务人员输入取消命令时，系统关闭查询不做任何处理                |
| Business.Input. Find     Business.Input. Find | 在财务人员输入单据种类目录中存在条件标识时，系统执行查询任  在财务人员输入单据类目录中存在条件标识时，系统执行查询任务务 |
| Business.Input.Invalid                   | 在财务人员输入其他标识时，系统不予响应                      |
| Business.End.Null                        | 在财务人员未选择任何单据就输入结束命令时，系统关闭查询任务不做任何处理      |
| Business.End.Find     Business.End.Find.in | 在财务人员选择单据种类之后输入结束命令时，系统要处理结束查询任务  在财务人员选择单据种类中的单据类之后输入结束命令时，系统要处理结束查询任务 |
| Business.Del.Null     Business.Del.Find     Business.Del.Find.in | 在财务人员未输入任何单据就输入删除已输入条件命令时，系统不予响应  在财务人员输入单据种类之后输入删除已输入条件命令时，系统要处理删除单据种类  在财务人员选择单据种类中的单据类之后输入删除已输入条件命令时，系统要处理删除单据种类中的单据类 |
| Business.Choose  Business.Choose.Sell     Business.Choose.Replenish stock  Business.Choose.Financial     Business.Choose.Stock     Business.Choose.Sell.in     Business.Choose.Replenish stock.in  Business.Choose.Financial.in     Business.Choose.Stock.in | 系统显示销售类单据、进货类单据、财务类单据、库存类单据  在财务人员选择销售类单据，系统显示销售类单据内的各种单据  在财务人员选择进货类单据，系统显示进货类单据内的各种单据  在财务人员选择财务类单据，系统显示财务类单据内的各种单据  在财务人员选择库存类单据，系统显示库存类单据内的各种单据  系统显示销售类单据后财务人员在销售出货单，销售退货单中选择一种  系统显示进货类单据后财务人员在进货单，进货退货单中选择一种  系统显示财务类单据后财务人员在付款单，收款单，现金费用单中选择一种  系统显示库存类单据后财务人员在报溢单，报损单，赠送单中选择一种 |
| Business.Confirm  Business.Confirm.Sell  Business.Confirm.Replenish  Business.Confirm.Financial  Business.Confirm.Stock  Business.Confirm.Sell.in     Business.Confirm.Replenish.in  Business.Confirm.Financial.in     Business.Confirm.Stock.in | 系统应该允许收银员确认查询任务的完成情况  在财务人员确定选择销售类单据时，系统更新数据，记录  在财务人员确定选择进货类单据时，系统更新数据，记录  在财务人员确定选择财务类单据时，系统更新数据，记录  在财务人员确定选择库存类单据时，系统更新数据，记录  在财务人员确定选择销售出货单或销售退货单时，系统更新数据  在财务人员确定选择进货单或进货退货单时，系统更新数据  在财务人员确定选择付款单或收款单或现金费用单时，系统更新数据  在财务人员确定选择报溢单或报损单或赠送单时，系统更新数据 |
| Business.Change.Red dashed     Business.Change.Red and copy | 财务人员进行红冲的操作，系统生成一个一模一样但是仅仅把数量取负数的单子并入账，以此来抵消之前的单子  财务人员进行红冲并复制的操作,系统会在在红冲的基础上，新建一张以之前单子为模板的草稿单，给用户以编辑的机会 |
| Business.Check  Business.Check.Time  Business.Check.Goods  Business.Check.Client  Business.Check. Merchandiser  Business.Check. Storehouse  Business.Check.Confirm  Business.Check.Confirm end | 系统计算并显示商品销售记录的信息  系统计算并显示商品销售的时间区间  系统计算并显示销售出的商品名  系统计算并显示购买商品的客户  系统计算并显示处理商品销售的业务员  系统计算并显示仓库剩余  系统应该允许财务人员确认信息的正确性  系统应该允许财务人员确认查询任务的结束 |
| Business.Update                          | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| Business. Update.Time                    | 系统更新时间区间                                 |
| Business.Update.Name                     | 系统更新商品名                                  |
| Business.Update.Client                   | 系统更新客户信息                                 |
| Business.Update.Merchandiser             | 系统更新业务员信息                                |
| Business.Update.Storehouse               | 系统更新仓库信息                                 |
| Business.Update.Fault                    | 在系统更新过程中发生故障时，系统进行数据恢复                   |
| Business.Close.Next                      | 系统关闭本次查询任务，开始新的查询任务                      |

 

### [3.2.8           查看经营情况表]()

#### 3.2.8.1      特性描述

在财务人员统计一段时间内的经营收支状况和利润时，快速、正确地统计显示一段时间内的经营收支状况和利润，避免出现错误。

优先级=高

#### 3.2.8.2      刺激/响应序列

刺激：财务人员查询销售收入

响应：系统显示销售成本信息

刺激：财务人员查询商品类收入

响应：系统显示商品类收入信息

刺激：财务人员查询销售成本

响应：系统显示销售成本信息

刺激：财务人员查询商品类支出

响应：系统显示商品类支出信息

刺激：财务人员查询利润

响应：系统显示利润

刺激：财务人员结束查询

响应：系统更新库内信息

#### 3.2.8.3      相关功能需求

| Operating.Input                          | 系统应该允许财务人员在查询中进行键盘输入                     |
| ---------------------------------------- | ---------------------------------------- |
| Operating.Input.Cancle                   | 在财务人员输入取消命令时，系统关闭查询不做任何处理                |
| Operating.Input. Find     Operating.Input. Find | 在财务人员输入经营情况目录中存在条件标识时，系统执行查询任  在财务人员输入经营情况目录中的项目存在条件标识时，系统执行查询任务务 |
| Operating.Input.Invalid                  | 在财务人员输入其他标识时，系统不予响应                      |
| Operating.End.Null                       | 在财务人员未选择任何情况种类就输入结束命令时，系统关闭查询任务不做任何处理    |
| Operating.End.Find     Operating.End.Find.in | 在财务人员选择情况种类之后输入结束命令时，系统要处理结束查询任务  在财务人员选择情况种类中的小类之后输入结束命令时，系统要处理结束查询任务 |
| Operating.Del.Null     Operating.Del.Find     Operating.Del.Find.in | 在财务人员未输入任何查询词条就输入删除已输入条件命令时，系统不予响应  在财务人员输入查询种类之后输入删除已输入条件命令时，系统要处理删除单据种类  在财务人员选择查询种类中的具体项之后输入删除已输入条件命令时，系统要处理删除查询中的具体项 |
| Operating.Choose     Operating.Choose.Sellin     Operating.Choose.Goods sell      Operating.Choose.Sales cost     Operating.Choose.Goods cost     Operating.Choose.Profits     Operating.Choose.Goods sell.in        Operating.Choose.Goods cost.in | 系统显示销售收入、商品类收入、销售成本、商品类支出、利润  在财务人员选择销售收入时，系统显示销售收入内的相关内容  在财务人员选择商品类收入时，系统显示商品类收入内的相关内容  在财务人员选择销售成本时，系统显示销售成本内的相关内容  在财务人员选择商品类支出时，系统显示商品类支出内的相关内容  在财务人员选择利润时，系统显示利润内的相关内容     系统显示商品类收入后财务人员在商品报溢收入，成本调价收入，进货退货差价，代金券与实际收款差额收入中选择一种  系统显示商品类支出后财务人员在商品报损，商品赠出中选择一种 |
| Operating.Confirm  Operating.Confirm. Sellin  Operating.Confirm.Goods sell  Operating.Confirm.Sales cost  Operating.Confirm. Goods cost  Operating.Confirm. Profits  Operating.Confirm.Goods sell.in  Operating.Confirm.Goods cost.in | 系统应该允许收银员确认查询任务的完成情况  在财务人员确定选择销售收入时，系统更新数据，记录  在财务人员确定选择商品类收入时，系统更新数据，记录  在财务人员确定选择销售成本时，系统更新数据，记录  在财务人员确定选择商品类支出时，系统更新数据，记录  在财务人员确定选择利润时，系统更新数据，记录  在财务人员确定选择商品报溢收或成本调价收入或进货退货差价或代金券或实际收款差额收入时，系统更新数据  在财务人员确定选择商品报损或商品赠出时，系统更新数据 |
| Operating.Profits  Operating.Profits.check | 系统显示利润，数值为折让后总收入-总支出  系统允许财务人员核查利润的正确性   |
| Operating.Check  Operating.Check.Cost pricing  Operating.Check.Goods overflow  Operating.Check.Voucher  Operating.Check.Colletion     Operating.Check.Goods report  Operating.Check.Gift  Operating.Check.Confirm  Operating.Check.Confirm | 系统计算并显示商品类收入，商品类支出中的信息  系统计算并显示成本调价收入，并允许财务人员进行核查  系统计算并显示商品报溢收入，并允许财务人员进行核查     系统计算并显示代金券，并允许财务人员进行核查  系统计算并显示实际收款差额收入，并允许财务人员进行核查  系统计算并显示商品报损，并允许财务人员进行核查  系统计算并显示商品赠出，并允许财务人员进行核查  系统应该允许财务人员确认信息的正确性  系统应该允许财务人员确认查询任务的结束 |
| Operating.Update                         | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| Operating. Update. Sellin                | 系统更新销售收入                                 |
| Operating.Update. Goods sell             | 系统更新销售成本                                 |
| Operating.Update. Sales cost             | 系统更新商品类支出                                |
| Operating.Update. Goods cost             | 系统更新利润                                   |
| Operating.Update. Profits                | 系统更新库内信息                                 |
| Operating.Update.Fault                   | 在系统更新过程中发生故障时，系统进行数据恢复                   |
| Operating.Close.Next                     | 系统关闭本次查询任务，开始新的查询任务                      |

 

### [3.2.9           审批单据]()

#### 3.2.9.1      特性描述

在有单据提交时，一个经过验证的总经理可以根据了解的企业及市场状况进行单据的审批，并对单据数据做出修改。

优先级=高

#### 3.2.9.2      刺激/响应序列

刺激：总经理请求查看未审批单据

响应：系统分类显示申请单据列表

刺激：总经理请求查看其中一个单据更详细的信息

响应：系统为总经理提供该单据的详细信息

刺激：总经理取消对单据的审批

响应：系统关闭审批单据任务

刺激：总经理修改数据并通过原来审批不通过单据

响应：系统发送消息，关闭审批单据任务

刺激：总经理对单据的审批通过

响应：系统发送消息，关闭审批单据任务

#### 3.2.9.3      相关功能需求

| Doc.Cancle  | 在总经理请求取消单据审批任务时，系统关闭单据审批任务   |
| ----------- | ---------------------------- |
| Doc.Display | 在总经理请求查看未审批单据时，系统分类显示申请单据列表  |
| Doc.View    | 在总经理请求查看单据详细信息时，系统提供该单据的详细信息 |
| Doc.Edit    | 系统应该允许总经理编辑单据中部分数据           |
| Doc.Confirm | 在总经理批准单据时，系统发送消息，关闭审批单据任务    |
| Doc.Notice  | 系统根据所审批单据内容及情况发送消息           |

 

## [3.3       其他非功能需求]()

### [3.3.1           安全性]()

Safety1：系统应该只允许经过验证和授权的用户访问；

Safety2：系统应该按照用户身份给予验证用户的访问权限：

Safety3：系统中有一个默认的管理员账号，该账户只允许管理员用户修改口令。

 

### [3.3.2           可维护性]()

Modifiability1：在系统的商品标识数据格式发生变化时（见Format1），系统要能够在3人1天内完成；

Modifiability2：如果系统要增加新的特价和赠送类型（例如每天分时段、购买计数等等），要能够在0.25个人月内完成。

Modifiability3：如果系统要增加新的VIP服务，要能够在0.25个人月内完成。

### [3.3.3           易用性]()

Usability1：使用系统1个月的进货销售人员制定单据的效率要达到10件商品/分钟。

### [3.3.4           可靠性]()

Reliability6：在客户端与服务器通信时，如果网络故障，系统不能出现故障。

Reliability6.1：客户端应该检测到故障，并尝试重新连接网络3次，每次15秒；

Reliability6.1.1：重新连接后，客户端应该继续之前的工作；

Reliability6.1.2：如果重新连接不成功，客户端应该等待5分钟后再次尝试重新连接

Reliability6.1.2.1：重新连接后，客户端应该继续之前的工作；

Reliability6.1.2.2：如果重新连接仍然不成功，客户端报警；

### [3.3.5           业务规则]()

BR1：适用（商品标识，参照日期）的商品赠送促销策略

（促销商品标识=商品标识） 而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR2：适用（额度，参照日期）的总额赠送促销策略

（促销额度<=额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR3：适用（商品标识，参照日期）的商品特价促销策略

（促销商品标识=商品标识） 而且（（开始日期早于晚于参照日期）并且（结束日期晚于等于参照日期））

BR4：适用（额度，参照日期）的总额特价促销策略

（促销额度<=额度）而且（不存在：本促销额度<另一个促销额度<=额度）而且（（开始日期早于等于参照日期）并且（结束日期晚于等于参照日期））

BR5：退货日期约定

今天-销售日期>=15天

BR6：在参照日期时退货的赠品差

Pre=销售记录的普通商品总价-以前退货记录的普通商品总价之和

Post=Pre-本次退货记录的普通商品总价

Pre赠品=适用于（Pre，参照日期）的总额赠送策略（参见BR2）的赠送商品及数量

Post赠品=适用于（Post，参照日期）的总额赠送策略（参见BR2）的赠送商品及数量

赠品差=Pre赠品-Post赠品

BR7：在参照日期时退货的账款差

Pre=销售记录的普通商品总价-以前退货记录的普通商品总价之和

Post=Pre-本次退货记录的普通商品总价

Pre折扣率=适用于（Pre，参照日期）的总额赠送策略（参见BR4）的折扣率

如果无适用的总额赠送策略：Pre折扣率=100%

Post折扣率=适用于（Post，参照日期）总额赠送策略（参见BR4）的折扣率

如果无适用的总额赠送策略：Post折扣率=100%

账款差=Pre×Pre折扣率-Post×Post折扣率

### [3.3.6           约束]()

IC1：在开发过程中缺少可以的打印机，需要使用文件系统模拟打印机。

IC2：系统要在网络上分布为一个服务器和多个客户端。

 

## [3.4       数据需求]()

### [3.4.1           数据定义]()

DR1：系统需要存储1年内的销售记录和退货记录。

DR2：系统删除之后的商品目录数据和用户数据仍然要继续存储3个月的时间，以保证历史数据显示的正确性。

### [3.4.2           默认数据]()

默认数据用于

l  系统中新增加数据时

l  编辑数据时不小心将相关内容清空，

 

Default1：商品的数量默认为1

Default2：费用或价格的数据默认为0

Default3：时间默认为当天

Default4：操作人员工号默认为当前登录用户

Default5：商品出库原因默认为到期报废

### [3.4.3           数据格式要求]()

Format1：进货单格式为JHD-yyyyMMdd-xxxxx，退货单JHTHD-yyyyMMdd-xxxxx，销售单XSD-yyyyMMdd-xxxxx，销售退货单XSTHD-yyyyMMdd-xxxxx，付款单FKD-yyyyMMdd-xxxxx，现金费用单XJFYD-yyyyMMdd-xxxxx

Fromat2：商品出库的原因必须为：到期报废、个别残次品、批次质量缺陷和其他。

Format3：价格和费用的格式必须是：大于等于0、精确到小数点后2位的为浮点数，单位为RMB元；

Format4：日期的格式必须是：yyyy-mm-dd；

Format5：数量的格式必须是：正整数；

Format6: 收款单SKD-yyyyMMdd-xxxxx， 付款单**XJFYD-yyyyMMdd-xxxxx****。**

 

## [3.5其他需求]()

系统主要操作都有日志进行记录，并对经理和财务人员提供查询功能。

安装需求

Install1：在安装系统时，要初始化用户、商品库存等重要数据。

Install2：系统投入使用时，需要对用户进行1个星期的集中培训。

## [附录]()

各种分析模型略。

 

 